import type { NextApiRequest, NextApiResponse } from 'next'

export default (req: NextApiRequest, res: NextApiResponse) => {
  const { page } = req.body

  const { obj, ...data_others } = mockData
  const { couponTemplateIds, labelList, previewList, discountAll, couponList, couponInfoList, xgList, ...obj_others } = obj
  const data = {
    ...data_others,
    obj: {
      ...obj_others,
      couponTemplateIds,
      labelList,
      // labelList: labelList.map(t => {
      //   if(t.ruleName === '满返') {
      //     t.actDesc = t.mLabel
      //   }
      //   // t.ruletype = '19'
      //   return t
      // }),
      // previewList,
      previewList: [{
        "activeCode": "22110720403282",
        "activeDesc": "20000021232001",
        "activeEndTime": "2022-11-22 23:59:59",
        "activeName": "武宁标签预售",
        "activityStartTime": null,
        "deliveryDay": "2",
        "deliveryMethod": "2",
        "goodsDetSid": "162634",
        "goodsPreviewPrice": null,
        "ruletype": "19",
        "ruleName": "预售",
        "deliveryDate": "2022年11月12日"
      }],
      discountAll,
      couponList,
      couponInfoList,
      xgList,
    }
  }

  return new Promise(function (resolve) {
    setTimeout(resolve.bind(null, resolve), 1000)
  })
    .then(() => {
      res.status(200).json(data)
    })
}

const mockData = {"success":true,"resCode":"00100000","obj":{"couponTemplateIds":["349883618","300866051","324931536","346659984","346662201","345625093","320536324"],"labelList":[{"ruleid":"57279","ruleName":"N元任选","ruletype":"7","buyMember":null,"conditionType":null,"discountType":null,"activityTag":null,"sLabel":"武宁标签任选","mLabel":"武宁标签任选","lLabel":null,"actDesc":"武宁标签任选"},{"ruleid":"57283","ruleName":"换购","ruletype":"16","buyMember":null,"conditionType":"1","discountType":null,"activityTag":null,"sLabel":"武宁标签换购","mLabel":"武宁标签换购","lLabel":null,"actDesc":null},{"ruleid":"57285","ruleName":"满返","ruletype":"4","buyMember":null,"conditionType":null,"discountType":null,"activityTag":null,"sLabel":"武宁标签满返","mLabel":"武宁标签满返","lLabel":null,"actDesc":"武宁标签满返"}],"previewList":[],"discountInfo":null,"discountAll":{"discountAmount":"0","discountPreAmount":"0","sharePreAmount":"0","shareOrigAmount":"0","goodsId":null,"discountList":[]},"couponList":[{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=7080&shopId=0&couponId=349883618&QRid=0.648992283317685","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"3","maxNumPerUserDay":"10","produceNum":"2","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":"2022-11-09 00:00:00","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,3,4,60,22","validType":"0","maxNumDay":"1","enableTimeTo":"2022-11-30 23:59:59","issueNum":"1","showOrder":null,"acquireType":"3","maxNum":"10","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2022-11-09 00:00:00","couponTypeId":"11","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"13","couponChannelType":null,"couponName":"快捷创建到家券1109","couponType":"抵用券","openTimeTo":"2022-11-30 23:59:59","maxNumPerUser":"10","couponDesc":"快捷创建到家券1109","canAcquireCoupon":"Y","couponTemplateId":"349883618","suitShopCount":null,"couponShortDesc":"快捷创建到家券1109","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"0","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"0","plusWeightFlag":"0","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=2020&shopId=007780&couponId=300866051&QRid=0.7882841700148125","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"6","maxNumPerUserDay":"20","produceNum":"200","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":"2021-11-30 00:00:00","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,22","validType":"0","maxNumDay":"24","enableTimeTo":"2022-11-30 23:59:59","issueNum":"176","showOrder":null,"acquireType":"3","maxNum":"1000","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2021-11-30 00:00:00","couponTypeId":"17","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"13","couponChannelType":null,"couponName":"【复制299957935】到家PLUS免首重券6元","couponType":"运费券","openTimeTo":"2022-11-30 23:59:59","maxNumPerUser":"100","couponDesc":"到家PLUS免首重券到家PLUS免首重券","canAcquireCoupon":"Y","couponTemplateId":"300866051","suitShopCount":null,"couponShortDesc":"到家PLUS免首重券629","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"1","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"1","plusWeightFlag":"1","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=6010&shopId=0&couponId=324931536&QRid=0.5469290842387742","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":"0","offsetAmount":"5","maxNumPerUserDay":"23","produceNum":"350","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":null,"buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":"30","couponDetailUrl":null,"useChannel":"1,2,22","validType":"1","maxNumDay":"49","enableTimeTo":null,"issueNum":"308","showOrder":null,"acquireType":"3","maxNum":"1000","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2021-07-09 00:00:00","couponTypeId":"20","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"13","couponChannelType":null,"couponName":"领取后30天有效】快到家PLUS专享5折券","couponType":"折扣券","openTimeTo":"2023-07-09 23:59:59","maxNumPerUser":"23","couponDesc":"【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券【领取后30天有效】快到家PLUS专享5折券","canAcquireCoupon":"Y","couponTemplateId":"324931536","suitShopCount":null,"couponShortDesc":"【领取后30天有效】快到家PLUS专享5折券","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"0","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"1","plusWeightFlag":"0","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=2020&shopId=000243&couponId=346659984&QRid=0.33303566702206955","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"7","maxNumPerUserDay":"500","produceNum":"20","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":"2022-10-18 00:00:00","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,3,22","validType":"0","maxNumDay":"12","enableTimeTo":"2022-12-31 23:59:59","issueNum":"8","showOrder":null,"acquireType":"3","maxNum":"500","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2022-10-18 00:00:00","couponTypeId":"11","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"13","couponChannelType":null,"couponName":"标超门店7元抵用券","couponType":"抵用券","openTimeTo":"2022-12-31 23:59:59","maxNumPerUser":"500","couponDesc":"标超门店7元抵用券","canAcquireCoupon":"Y","couponTemplateId":"346659984","suitShopCount":null,"couponShortDesc":"标超门店7元抵用券","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"0","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"0","plusWeightFlag":"0","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=2020&shopId=000243&couponId=346662201&QRid=0.29902036732113135","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"5.5","maxNumPerUserDay":"500","produceNum":"20","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":"2022-10-18 00:00:00","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,3,22","validType":"0","maxNumDay":"16","enableTimeTo":"2022-12-31 23:59:59","issueNum":"4","showOrder":null,"acquireType":"3","maxNum":"500","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2022-10-18 00:00:00","couponTypeId":"20","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"13","couponChannelType":null,"couponName":"标超门店55折扣","couponType":"折扣券","openTimeTo":"2022-12-31 23:59:59","maxNumPerUser":"500","couponDesc":"标超门店55折扣","canAcquireCoupon":"Y","couponTemplateId":"346662201","suitShopCount":null,"couponShortDesc":"标超门店55折扣","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"0","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"0","plusWeightFlag":"0","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=2020&shopId=007780&couponId=345625093&QRid=0.3382575888560071","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"6","maxNumPerUserDay":"100","produceNum":"40","couponListUrl":null,"dayCouponCount":"0","enableTimeFrom":"2022-08-29 00:00:00","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,22","validType":"0","maxNumDay":"30","enableTimeTo":"2023-08-29 23:59:59","issueNum":"10","showOrder":null,"acquireType":"3","maxNum":"500","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2022-08-29 00:00:00","couponTypeId":"17","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"0","couponChannelType":null,"couponName":"运费券到家联华6元","couponType":"运费券","openTimeTo":"2023-08-29 23:59:59","maxNumPerUser":"500","couponDesc":"购物车测试-到家运费券10元","canAcquireCoupon":"Y","couponTemplateId":"345625093","suitShopCount":null,"couponShortDesc":"购物车测试-到家运费券10元","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"1","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"0","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"0","plusWeightFlag":"0","shopAndBuMatch":null},{"couponCode":null,"couponRuleId":null,"contentTextPc":null,"erCode":"http://m.st.bl.com/h5-web/marketing/view_coupon_detail.html?apiType=coupon&shopType=2020&shopId=007780&couponId=320536324&QRid=0.5178172119993917","cloudFlag":"0","signinAcquire":"1","isAcquiredCoupon":"N","userDayCouponCount":"0","merchants":null,"waitDays":null,"offsetAmount":"6.6","maxNumPerUserDay":"5","produceNum":"300","couponListUrl":null,"dayCouponCount":"5","enableTimeFrom":"2022-02-22 17:51:06","buttonFlagMsg":"立即领取","contentTextScreen":null,"siteStore":null,"stores":null,"effectDays":null,"couponDetailUrl":null,"useChannel":"1,2,3,60","validType":"0","maxNumDay":"97","enableTimeTo":"2023-02-22 23:59:59","issueNum":"208","showOrder":null,"acquireType":"3","maxNum":"1000","birthdayFlag":"0","couponPicUrl":null,"openTimeFrom":"2022-02-22 17:51:01","couponTypeId":"11","pointsValue":"0","notSentCouponCount":null,"contentTextApp":null,"jumpValue":null,"jumpType":"24","couponChannelType":null,"couponName":"【全部渠道风控-新】","couponType":"抵用券","openTimeTo":"2023-02-22 23:59:59","maxNumPerUser":"500","couponDesc":"【全部渠道风控-新】到家抵用券6.6元【全部渠道风控-新】到家抵用券6.6元","canAcquireCoupon":"Y","couponTemplateId":"320536324","suitShopCount":null,"couponShortDesc":"【全部渠道风控-新】到家抵用券6.6元","acquireFlag":"0","userCouponCount":"0","mpShopName":null,"couponScope":"0","nextGenerateTime":null,"currentGenerateTime":null,"buttonFlag":"1","receiveFlag":"1","alreadyPercentNum":"5","noticeDesc1":null,"noticeDesc2":null,"conditionAmount":null,"conditionFlag":null,"plusFlag":"0","plusWeightFlag":"0","shopAndBuMatch":null}],"couponInfoList":[{"acceptCouponTemplateId":["349883618"],"memo":"快捷创建到家券1109","popDes":null},{"acceptCouponTemplateId":["300866051"],"memo":"到家PLUS免首重券6元","popDes":null},{"acceptCouponTemplateId":["324931536"],"memo":"领取后30天有效】快到家PLUS专享5折","popDes":null},{"acceptCouponTemplateId":["346659984"],"memo":"标超门店7元抵用券","popDes":null},{"acceptCouponTemplateId":["346662201"],"memo":"标超门店55折扣","popDes":null},{"acceptCouponTemplateId":["345625093"],"memo":"运费券到家联华6元","popDes":null},{"acceptCouponTemplateId":["320536324"],"memo":"【全部渠道风控-新】到家抵用券6.6元","popDes":null}],"xgList":[],"plusMember":1,"showPlusTip":1}}
